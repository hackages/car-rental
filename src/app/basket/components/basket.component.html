<div class="main">

  <div class="container">
    <h1>Your Basket</h1>
  </div>

  <div
  *ngIf="isLoading"
  fxLayoutAlign="space-around center" 
  class="spinner-container">

    <mat-spinner [diameter]="80"></mat-spinner>
    
  </div>

  <div 
    *ngIf="!isLoading" 
    class="container">
  
    <table
      *ngIf="dataSource.data?.length > 0; else elseNothingInBasket"
      mat-table 
      [dataSource]="dataSource" 
      class="mat-elevation-z8">
  
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> No. </th>
        <td mat-cell *matCellDef="let element"> {{ element.id }} </td>
        <td mat-footer-cell *matFooterCellDef> Total </td>
      </ng-container>

      <ng-container matColumnDef="car">
        <th mat-header-cell *matHeaderCellDef> Brand </th>
        <td mat-cell *matCellDef="let element"> {{ element.car }} </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container matColumnDef="car_model">
        <th mat-header-cell *matHeaderCellDef> Model </th>
        <td mat-cell *matCellDef="let element"> {{ element.car_model }} </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef> Price </th>
        <td mat-cell *matCellDef="let element"> {{ element.price }} </td>
        <td mat-footer-cell *matFooterCellDef> {{ getTotalPrices() | currency }} </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="tableColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: tableColumns;"></tr>
      <tr mat-footer-row *matFooterRowDef="tableColumns"></tr>

    </table>

    <ng-template #elseNothingInBasket>
      You have nothing in basket.
    </ng-template>

  </div>

</div>
